{"ast":null,"code":"// components/Callback.js\nimport React,{useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const Callback=()=>{const navigate=useNavigate();useEffect(()=>{const fetchToken=async code=>{const clientId='Ov23lirQwogH1gedrKCh';const clientSecret='fc6f3305db7c31477e7575792e844fbb48d25e70';try{const response=await axios.post('https://github.com/login/oauth/access_token',{client_id:clientId,client_secret:clientSecret,code},{headers:{Accept:'application/json'}});const accessToken=response.data.access_token;localStorage.setItem('github_token',accessToken);navigate('/');// Redirigir a la página principal o donde desees\n}catch(error){console.error('Error al obtener el token de acceso:',error);}};const urlParams=new URLSearchParams(window.location.search);const code=urlParams.get('code');if(code){fetchToken(code);}},[navigate]);return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});};export default Callback;","map":{"version":3,"names":["React","useEffect","axios","useNavigate","jsx","_jsx","Callback","navigate","fetchToken","code","clientId","clientSecret","response","post","client_id","client_secret","headers","Accept","accessToken","data","access_token","localStorage","setItem","error","console","urlParams","URLSearchParams","window","location","search","get","children"],"sources":["/Users/pablocruz/dev/streetdevs/github-integration/src/components/Callback.js"],"sourcesContent":["// components/Callback.js\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Callback = () => {\n    const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchToken = async (code) => {\n      const clientId = 'Ov23lirQwogH1gedrKCh';\n      const clientSecret = 'fc6f3305db7c31477e7575792e844fbb48d25e70';\n      try {\n        const response = await axios.post(\n          'https://github.com/login/oauth/access_token',\n          {\n            client_id: clientId,\n            client_secret: clientSecret,\n            code,\n          },\n          {\n            headers: {\n              Accept: 'application/json',\n            },\n          }\n        );\n        const accessToken = response.data.access_token;\n        localStorage.setItem('github_token', accessToken);\n        navigate('/'); // Redirigir a la página principal o donde desees\n      } catch (error) {\n        console.error('Error al obtener el token de acceso:', error);\n      }\n    };\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      fetchToken(code);\n    }\n}, [navigate]);\n\n  return <div>Loading...</div>;\n};\n\nexport default Callback;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAEhCF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAO,UAAU,CAAG,KAAO,CAAAC,IAAI,EAAK,CACjC,KAAM,CAAAC,QAAQ,CAAG,sBAAsB,CACvC,KAAM,CAAAC,YAAY,CAAG,0CAA0C,CAC/D,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,KAAK,CAACW,IAAI,CAC/B,6CAA6C,CAC7C,CACEC,SAAS,CAAEJ,QAAQ,CACnBK,aAAa,CAAEJ,YAAY,CAC3BF,IACF,CAAC,CACD,CACEO,OAAO,CAAE,CACPC,MAAM,CAAE,kBACV,CACF,CACF,CAAC,CACD,KAAM,CAAAC,WAAW,CAAGN,QAAQ,CAACO,IAAI,CAACC,YAAY,CAC9CC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEJ,WAAW,CAAC,CACjDX,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC9D,CACF,CAAC,CAED,KAAM,CAAAE,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC7D,KAAM,CAAApB,IAAI,CAAGgB,SAAS,CAACK,GAAG,CAAC,MAAM,CAAC,CAClC,GAAIrB,IAAI,CAAE,CACRD,UAAU,CAACC,IAAI,CAAC,CAClB,CACJ,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEZ,mBAAOF,IAAA,QAAA0B,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAAC,CAED,cAAe,CAAAzB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}